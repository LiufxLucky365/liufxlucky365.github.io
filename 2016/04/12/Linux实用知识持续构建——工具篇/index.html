<!DOCTYPE html>




<html class="theme-next gemini" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="这是什么本文将持续更新在学习Linux过程中,所遇到各种实用工具的实用示例,示例将尽量简洁,且只包含常用场景.">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux实用知识持续构建——工具篇">
<meta property="og:url" content="http://yoursite.com/2016/04/12/Linux实用知识持续构建——工具篇/index.html">
<meta property="og:site_name" content="Liufxlucky365">
<meta property="og:description" content="这是什么本文将持续更新在学习Linux过程中,所遇到各种实用工具的实用示例,示例将尽量简洁,且只包含常用场景.">
<meta property="og:updated_time" content="2019-05-12T07:17:50.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux实用知识持续构建——工具篇">
<meta name="twitter:description" content="这是什么本文将持续更新在学习Linux过程中,所遇到各种实用工具的实用示例,示例将尽量简洁,且只包含常用场景.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2016/04/12/Linux实用知识持续构建——工具篇/"/>





  <title>Linux实用知识持续构建——工具篇 | Liufxlucky365</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Liufxlucky365</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">211&835</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/04/12/Linux实用知识持续构建——工具篇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liufxlucky365">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/default_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liufxlucky365">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Linux实用知识持续构建——工具篇</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-12T12:47:49+08:00">
                2016-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <span class="post-meta-divider">|</span>
            <span id="busuanzi_value_page_pv"></span>次阅读
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="这是什么"><a href="#这是什么" class="headerlink" title="这是什么"></a>这是什么</h2><p>本文将持续更新在学习Linux过程中,所遇到各种实用工具的实用示例,示例将尽量简洁,且只包含常用场景.</p>
<a id="more"></a>
<h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 不要忘了cat是可以同时显示多个文件的</span><br><span class="line">cat file1 file2 ...</span><br><span class="line"></span><br><span class="line"># 合并标准输入和文件</span><br><span class="line">echo &apos;standout&apos; | cat - file1</span><br><span class="line"></span><br><span class="line"># 压缩空白行</span><br><span class="line">cat -s file1</span><br><span class="line"></span><br><span class="line"># 显示行号，针对所有行，-b则只针对非空白行</span><br><span class="line">cat -n file1</span><br></pre></td></tr></table></figure>
<h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"># 未指明搜索条件，则是列出dir目录及其子目录的所有文件</span><br><span class="line">find dir</span><br><span class="line"></span><br><span class="line"># 文件名称搜索，*为通配符，匹配任意多的字符，例子即为以Target开头的文件 -iname为忽略大小写</span><br><span class="line">find dir -name &quot;Target*&quot;</span><br><span class="line"></span><br><span class="line"># 文件类型搜索，f为文件，d为目录，l为符号链接，s为套接字，p为管道，b为块文件</span><br><span class="line">find dir -type [fdlspb]</span><br><span class="line"></span><br><span class="line"># -name匹配的是文件名称，-path则是匹配文件的完整路径</span><br><span class="line"></span><br><span class="line"># -path路径不能加入结尾的/，比如路径/vobs/gliethttp/signature，不能写成/vobs/gliethttp/signature/，这是硬性规定</span><br><span class="line"></span><br><span class="line"># -prune则指不在-path目录中查找</span><br><span class="line">find dir -path &apos;/home/user/target&apos;</span><br><span class="line"></span><br><span class="line"># 否定</span><br><span class="line">find dir ! -name &apos;Target&apos;</span><br><span class="line"></span><br><span class="line"># 多个搜索条件，-o为&apos;或&apos; -a为&apos;与&apos;</span><br><span class="line">find dir -name traget -[oa] -type d</span><br><span class="line"></span><br><span class="line"># 指定搜索的最大|小深度，据不可靠消息，深度应该放在搜索条件的第一个，否则系统将搜索出来全部后再过滤层次</span><br><span class="line">find dir -[maxdepth|mindepth] 2 -name &apos;Target&apos;</span><br><span class="line"></span><br><span class="line"># 使用正则表达式搜索，注意匹配的是find的输出结果，而不是如-name那样只匹配文件名</span><br><span class="line">find dir -regex &quot;.*\.jpg&quot;</span><br><span class="line"></span><br><span class="line"># 文件大小搜索，&apos;+&apos;为&apos;大于&apos;，&apos;-&apos;为&apos;小于&apos;，不写为等于；</span><br><span class="line">find dir -size [±]2[bcwkMG]</span><br><span class="line"></span><br><span class="line"># &apos;b&apos;    for 512-byte blocks (this is the default if no suffix is used)</span><br><span class="line"></span><br><span class="line"># &apos;c&apos;    for bytes</span><br><span class="line"></span><br><span class="line"># &apos;w&apos;    for two-byte words</span><br><span class="line"></span><br><span class="line"># &apos;k&apos;    for Kilobytes (units of 1024 bytes)</span><br><span class="line"></span><br><span class="line"># &apos;M&apos;    for Megabytes (units of 1048576 bytes)</span><br><span class="line"></span><br><span class="line"># &apos;G&apos;    for Gigabytes (units of 1073741824 bytes)</span><br><span class="line"></span><br><span class="line"># 按照时间搜索，首先明白Linux文件系统每个文件都有三个时间戳</span><br><span class="line"></span><br><span class="line"># 搜索的单位是天，-n指n天以内，+n指n天以前，无是等于，另外amin|mmin|cmin类似，但单位是分钟</span><br><span class="line">find dir -atime|-mtime|-ctime [±]2</span><br><span class="line"></span><br><span class="line"># 访问时间(-atime): 用户最后一次访问文件时间</span><br><span class="line"></span><br><span class="line"># 修改时间(-mtime): 文件内容最后一次修改时间</span><br><span class="line"></span><br><span class="line"># 变化时间(-ctime): 文件元数据(权限或所有权，即inode)最后一次修改时间</span><br><span class="line"></span><br><span class="line"># 按照文件所有者搜索</span><br><span class="line">find dir -user UNAME</span><br><span class="line"></span><br><span class="line"># 按照文件权限搜索</span><br><span class="line">find dir -perm 665</span><br><span class="line"></span><br><span class="line"># 删除搜索匹配项</span><br><span class="line">find dir [搜索条件] -delete</span><br><span class="line"></span><br><span class="line"># -exec选项将会将搜索结果替换&#123;&#125;，执行COMMOND命令</span><br><span class="line">find dir -exec COMMOND &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<h2 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 将标准输入转化为命令行参数，比如现在有这样的一个样本</span><br><span class="line">cat args</span><br><span class="line">1</span><br><span class="line">2 2 2</span><br><span class="line">3 3</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line"># 将标准输入转化为单行参数，输出 `1 2 2 2 3 3 4`</span><br><span class="line">cat args | xargs</span><br><span class="line"></span><br><span class="line"># -n选项指定每行的参数个数，输出</span><br><span class="line">cat args | xargs -n 2</span><br><span class="line">1 2</span><br><span class="line">2 2</span><br><span class="line">3 3</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line"># 基本用法，保证每行一个参数，并传递给echo</span><br><span class="line">cat args | xargs -n 1 echo</span><br><span class="line"></span><br><span class="line"># 当需要将参数作为指定位置或者作为选项的参数时，可以使用-i选项作为占位符(多个如何替代？)，经测试-n与-i不能混用，否则-n失效</span><br><span class="line">cat args | xargs -n 1 | xargs -I&#123;&#125; mv &#123;&#125; dir</span><br></pre></td></tr></table></figure>
<h2 id="tr"><a href="#tr" class="headerlink" title="tr"></a>tr</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># tr可以对标准输入的字符进行替换、删除和压缩，可以将一组字符串转换为另一组字符串，即转换(translate)命令</span><br><span class="line">echo &apos;12345&apos; | tr 12345 abcde</span><br><span class="line"></span><br><span class="line"># tr的基本用法，集合12345映射到集合abcde，一一映射；假如前面集合长，则是后面的集合最后一个元素隐式补充到相等长度；如果是后面集合长，多出的将被忽略</span><br><span class="line"></span><br><span class="line"># 此外集合也有类似正则的简写a-zA-Z0-9，还有\t \n，特殊字符</span><br><span class="line"></span><br><span class="line"># [:alnum:] 字母和数字</span><br><span class="line"></span><br><span class="line"># [:alpha:] 字母</span><br><span class="line"></span><br><span class="line"># [:digit:] 数字</span><br><span class="line"></span><br><span class="line"># [:lower:] 小写字母</span><br><span class="line"></span><br><span class="line"># [:upper:] 大写字母</span><br><span class="line"></span><br><span class="line"># [:space:] 空白字符</span><br><span class="line"></span><br><span class="line"># -d选项为删除</span><br><span class="line">echo &apos;12345&apos; | tr -d 0-2</span><br><span class="line"></span><br><span class="line"># -s为压缩多个连续字符为单个字符，常用的为压缩空格、\n</span><br><span class="line">echo &apos;12xxx3xxx45&apos; | tr -s x</span><br><span class="line"></span><br><span class="line"># -c选项为求参数补集，例子的意思即为将所有非字母字符替换为0；另一个常见作用是与-d结合使用删除字符</span><br><span class="line">echo &apos;123xx45xxa21&apos; | tr -c [:alpha:] 0</span><br></pre></td></tr></table></figure>
<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># sort是非稳定的，即除了排序的key外，每次排序的执行结果顺序可能不同</span><br><span class="line"></span><br><span class="line"># 依次排序各个文件</span><br><span class="line">sort file1 file2 ...</span><br><span class="line"></span><br><span class="line"># 按照数字对文件内容进行排序</span><br><span class="line">sort -n file1</span><br><span class="line"></span><br><span class="line"># 逆序</span><br><span class="line">sort -r file2</span><br><span class="line"></span><br><span class="line"># 排序同时对重复行只保留一行，注意sort判断重复是依据排序的key，并非完整的行，uniq则为完整的行</span><br><span class="line">sort -u unsorted</span><br><span class="line"></span><br><span class="line"># 假如file2中数据存在多列，-k指定使用第二列进行排序</span><br><span class="line">sort -k 2 file1</span><br><span class="line"></span><br><span class="line"># 以第二列中的第一个字符到末尾进行排序</span><br><span class="line">sort -k 2.1 file1</span><br><span class="line"></span><br><span class="line"># 以第二列中的第一个字符到第二个字符进行排序</span><br><span class="line">sort -k 2.1,2.2 file1</span><br></pre></td></tr></table></figure>
<h2 id="uniq"><a href="#uniq" class="headerlink" title="uniq"></a>uniq</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 将标准输入中的连续多行只输出一行，“连续多行”就决定了uniq处理的标准输入一般是排过序的，否则无意义</span><br><span class="line">sort unsorted | uniq</span><br><span class="line"></span><br><span class="line"># 只显示唯一的行</span><br><span class="line">sort unsorted | uniq -u</span><br><span class="line"></span><br><span class="line"># 同时输出行的重复次数</span><br><span class="line">sort unsorted | uniq -c</span><br><span class="line"></span><br><span class="line"># -s表示跳过的字符数，另外-f类似，但表示的是忽略的字段数</span><br><span class="line">sort unsorted | uniq -s 2</span><br></pre></td></tr></table></figure>
<h2 id="split"><a href="#split" class="headerlink" title="split"></a>split</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 以大小切分文件生成诸如`xaa xab xac ...`</span><br><span class="line">split -b 10[c|k|m|g] Bigfile</span><br><span class="line"></span><br><span class="line"># 同上，但是以行数切分</span><br><span class="line">split -l 100 Bigfile</span><br><span class="line"></span><br><span class="line"># -a选项表示生成的切分文件名的长度，设为4则生成`xaaaa xaaab xaaac ...`</span><br><span class="line">split -a 4 -l 100 Bigfile</span><br><span class="line"></span><br><span class="line"># -d选项表示使用数字作为生成文件的名字，如`x001 x002 x003 ...`</span><br><span class="line">split -d -l 100 Bigfile</span><br><span class="line"></span><br><span class="line"># 最后一个参数定义切分文件的前缀，如`mypre-001 mypre-002 ...`</span><br><span class="line">split -d -l 100 Bigfile mypre-</span><br><span class="line"></span><br><span class="line"># 合并切分文件的方法</span><br><span class="line">cat mypre* &gt; merge</span><br></pre></td></tr></table></figure>
<h2 id="、-、-、"><a href="#、-、-、" class="headerlink" title="#、%、##、%%"></a>#、%、##、%%</h2><p>几个运算符的作用是对变量进行处理<br><figure class="highlight plain"><figcaption><span>echo $&#123;target%.*&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 输出为`test.tar`，%的作用为删除变量右侧与通配符匹配(即.*，匹配.png)符合的</span><br><span class="line">target=test.tar.png; echo $&#123;target%%.*&#125;</span><br><span class="line"></span><br><span class="line"># 输出为`test`，%%与%作用一样，但是贪婪匹配，即匹配到了.tar.png</span><br><span class="line">target=test.tar.png; echo $&#123;target#*.&#125;</span><br><span class="line"></span><br><span class="line"># 输出为`tar.png`，#的作用为删除变量左侧与通配符匹配(即*.，匹配test.)符合的</span><br><span class="line">target=test.tar.png; echo $&#123;target##*.&#125;</span><br><span class="line"></span><br><span class="line"># 输出为`png`，##与#作用一样，但是贪婪匹配，即匹配到了test.tar.</span><br></pre></td></tr></table></figure></p>
<h2 id="dd"><a href="#dd" class="headerlink" title="dd"></a>dd</h2><figure class="highlight plain"><figcaption><span>if=/dev/zero of=junk.data bs=1[c|k|m|g] count=1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># if为输入文件，/dev/zero为linux特殊设备，会不断产生\0</span><br><span class="line"></span><br><span class="line"># of为输出文件</span><br><span class="line"></span><br><span class="line"># bs为块大小</span><br><span class="line"></span><br><span class="line"># count为块数，即文件最终大小为 bs*count</span><br></pre></td></tr></table></figure>
<h2 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 用以创建长路径</span><br><span class="line">mkdir -p /this/is/a/long/long/path</span><br></pre></td></tr></table></figure>
<h2 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h2><p>‘抚摸’文件，更新文件的所有时间戳<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 更改文件的最后访问|修改|状态改变时间</span><br><span class="line"></span><br><span class="line"># *Linux文件有三种时间，访问时间即被读取的时间；修改时间即内容变化时间（ls默认列出）；状态改变时间即所有者、权限改变时间*</span><br><span class="line">touch -a|m|c</span><br><span class="line"></span><br><span class="line"># 更改文件时间戳为指定时间</span><br><span class="line">touch -t 201501012310.50 file</span><br></pre></td></tr></table></figure></p>
<h2 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 为~目录创建一个名为home的符号链接，可以通过`ls -l`查看，也可以使用`readlink`查看</span><br><span class="line">ln -s ~ ./home</span><br></pre></td></tr></table></figure>
<h2 id="head-amp-tail"><a href="#head-amp-tail" class="headerlink" title="head &amp; tail"></a>head &amp; tail</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 显示前5行</span><br><span class="line">head -n 5 file</span><br><span class="line"></span><br><span class="line"># 显示后5行</span><br><span class="line">tail -n 5 file</span><br><span class="line"></span><br><span class="line"># 显示file从N行到结尾</span><br><span class="line">tail -n +(N+1) file</span><br><span class="line"></span><br><span class="line"># 动态跟踪file变化，此外`-F`选项甚至可以在文件被重命名后依然跟踪</span><br><span class="line">tail -f file</span><br><span class="line"></span><br><span class="line"># 逆序输出</span><br><span class="line">tail -r file</span><br></pre></td></tr></table></figure>
<h2 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 列出详细信息</span><br><span class="line">ls -l</span><br><span class="line"></span><br><span class="line"># 隐藏文件</span><br><span class="line">ls -a</span><br><span class="line"></span><br><span class="line"># 显示目录本身的信息，而不是目录里的内容</span><br><span class="line">ls -d Dir</span><br><span class="line"></span><br><span class="line"># 显示本级所有目录，类似还有`ls -F | grep &quot;/$&quot;`，原理是-F选项为在目录后加/，再用grep过滤出来</span><br><span class="line">ls -d */</span><br><span class="line"></span><br><span class="line"># 文件大小可读</span><br><span class="line">ls -lh</span><br><span class="line"></span><br><span class="line"># 文件按照大小排序，同时使用完整时间模式</span><br><span class="line">ls -lS --full-time</span><br></pre></td></tr></table></figure>
<h2 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 计算file的字节数、单词数、行数</span><br><span class="line">wc -c|w|l file</span><br></pre></td></tr></table></figure>
<h2 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 直接修改</span><br><span class="line">chmod 751 file</span><br><span class="line"></span><br><span class="line"># 直接修改，但更加便于理解，a=all u=user g=group o=other w=write r=read x=execute</span><br><span class="line">chmod u=wr,go=x file</span><br><span class="line"></span><br><span class="line"># 在原基础上对权限进行修改</span><br><span class="line">chmod u+w,g-r file</span><br></pre></td></tr></table></figure>
<h2 id="chown-chgrp"><a href="#chown-chgrp" class="headerlink" title="chown chgrp"></a>chown chgrp</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 修改文件的用户组为teachers</span><br><span class="line">chgrp teachers file</span><br><span class="line"></span><br><span class="line"># 修改文件的所有者为me，同时用户组修改为teachers</span><br><span class="line">chown me:teachers file</span><br></pre></td></tr></table></figure>
<h2 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># 基本用法</span><br><span class="line">grep &apos;php&apos; file</span><br><span class="line">grep &quot;^a-z&quot; file</span><br><span class="line"></span><br><span class="line"># 注意&#123;&#125;+|()*在shell里是需要转义的</span><br><span class="line">grep &apos;0\&#123;3,\&#125;&apos; file</span><br><span class="line"></span><br><span class="line"># 使用拓展正则模式，此时无需转义</span><br><span class="line">grep -E &quot;^[0-9]&#123;1,3&#125;&quot; file</span><br><span class="line"></span><br><span class="line"># 一般用法，高亮显示</span><br><span class="line">STDIN | grep MATCHPATTERN --color=auto</span><br><span class="line"></span><br><span class="line"># 反向匹配</span><br><span class="line">STDIN | grep -v MATCHPATTERN --color=auto</span><br><span class="line"></span><br><span class="line"># 统计匹配的行数</span><br><span class="line">STDIN | grep -c MATCHPATTERN</span><br><span class="line"></span><br><span class="line"># 标记匹配行的行号</span><br><span class="line">STDIN | grep -n MATCHPATTERN</span><br><span class="line"></span><br><span class="line"># 忽略大小写</span><br><span class="line">STDIN | grep -i MATCHPATTERN</span><br><span class="line"></span><br><span class="line"># 静默,常用于验证</span><br><span class="line">STDIN | grep -q MATCHPATTERN</span><br><span class="line"></span><br><span class="line"># 整个单词匹配</span><br><span class="line">STDIN | grep -w MATCHPATTERN</span><br><span class="line"></span><br><span class="line"># 找出&apos;test&apos;在哪个文件中，`-L`则恰好相反</span><br><span class="line">grep -l &apos;test&apos; file1 file2 file3...</span><br><span class="line"></span><br><span class="line"># -R|r选项为递归搜索</span><br><span class="line">grep -lnR &apos;test&apos; .</span><br><span class="line"></span><br><span class="line"># 匹配多个模式(或)，此外还有另一种写法`grep -f PATTERNFILE`，即将多个模式写在文件中，每行一个</span><br><span class="line">STDIN | grep -e MATCHPATTERN1 -e MATCHPATTERN2 ...</span><br><span class="line"></span><br><span class="line"># 输出匹配行的上下文，A为After，B为Before，C为前后各</span><br><span class="line">STDIN | grep test -A|B|C 3</span><br><span class="line"></span><br><span class="line"># 以文件的每一行为模式进行匹配</span><br><span class="line">grep -f patternfile file</span><br></pre></td></tr></table></figure>
<h2 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 显示file的第一列，关于列的指定</span><br><span class="line">cut -f 1 file</span><br><span class="line"></span><br><span class="line"># 1,3,4 显示1、3、4列</span><br><span class="line"></span><br><span class="line"># 1-4 显示1到4列</span><br><span class="line"></span><br><span class="line"># 2- 显示第2列，直到最后</span><br><span class="line"></span><br><span class="line"># -d选项指定分隔符</span><br><span class="line">cut -f 1 -d &apos;,&apos; file</span><br><span class="line"></span><br><span class="line"># -s选项用以去掉不含分隔符的列，比如文件中的注释、说明性文字</span><br><span class="line">cut -f 1 -s file</span><br><span class="line"></span><br><span class="line"># 显示file的前10个字符，类似的还有-b，显示的字节</span><br><span class="line">cut -c 10 file</span><br></pre></td></tr></table></figure>
<h2 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 最基本的用法，从网络中下载文件</span><br><span class="line">wget url1 url2 url3</span><br><span class="line"></span><br><span class="line"># -O选项指定输出结果的保存文件，-o选项指定wget执行过程中日志存储文件</span><br><span class="line">wget url1 -O savefile -o logfile</span><br><span class="line"></span><br><span class="line"># -c选项断点续传，-t指失败的尝试次数</span><br><span class="line">wget -c -t 3 url1</span><br><span class="line"></span><br><span class="line"># --limit-rate 限制下载速度，--quota(-Q)控制下载文件的大小</span><br><span class="line">wget --limit-rate 20[k|m|g] url1 --quota 100m</span><br><span class="line"></span><br><span class="line"># -m(--mirror)镜像url1，等价于`wget -r -N 1 -l 3 url1` -r递归，-N使用时间戳，-l指定递归深度</span><br><span class="line">wget -m url1</span><br><span class="line"></span><br><span class="line"># 需要http或ftp认证</span><br><span class="line">wget --user username --password pass URL</span><br></pre></td></tr></table></figure>
<h2 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># curl是比wget更高级的http工具</span><br><span class="line"></span><br><span class="line"># curl的基本用法，下载url，--slient表示静默，--progress显示进度条</span><br><span class="line">curl [--slient|--progress] URL</span><br><span class="line"></span><br><span class="line"># curl默认将下载的内容输出标准输出，-O则控制curl输出到文件，文件名则自动识别，比如 DOMAIN/index.html则下载至index.html；-o选项则指定文件名，此处也可以看出linux各个命令直接选项的混乱</span><br><span class="line">curl URL [-O|-o newfile]</span><br><span class="line"></span><br><span class="line"># 断点续传，可以直接指定续传位置(OFFSET，单位字节)，也可以让curl自动推断，`-C -URL`</span><br><span class="line">curl URL -C [OFFSET|-URL]</span><br><span class="line"></span><br><span class="line"># 指定(多个)header</span><br><span class="line">curl -H &quot;Host: www.baidu.com&quot; -H &quot;Accept-language: en&quot;</span><br><span class="line"></span><br><span class="line"># 只显示响应报文中的头文件</span><br><span class="line">curl -l|head URL</span><br><span class="line"></span><br><span class="line"># 设置http中refer</span><br><span class="line">curl --refer http://www.baidu.com URL</span><br><span class="line"></span><br><span class="line"># 设置cookie，当使用cookie文件时`curl URL --cookie-jar cookiefile`</span><br><span class="line">curl URL --cookie &quot;user=liufuxin; pass=hack&quot;</span><br><span class="line"></span><br><span class="line"># 指定用户代理</span><br><span class="line">curl URL --user-agent &quot;Mozilla/5.0&quot;</span><br><span class="line"></span><br><span class="line"># 安全验证</span><br><span class="line">curl -u user:pass URL</span><br></pre></td></tr></table></figure>
<h2 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 打包文件，-f参数必须为参数组的最后一项，其后必须紧跟打包文件名</span><br><span class="line">tar -cf demo.tar file1 dir1 dir2</span><br><span class="line"></span><br><span class="line"># 向demo.tar中添加文件，注意通路径在打包中会同时存在，但提取时会覆盖</span><br><span class="line">tar -rf demo.tar fileother</span><br><span class="line"></span><br><span class="line"># -t输出demo.tar内容至标准输出，v选项控制显示更多信息</span><br><span class="line">tar -tvf demo.tar</span><br><span class="line"></span><br><span class="line"># 提取打包文件，也可以指定提取的文件</span><br><span class="line">tar -xvf demo.tar [file1|dir1|dir2]</span><br><span class="line"></span><br><span class="line"># 排除通配符文件</span><br><span class="line">tar --exclude &apos;*.svn&apos; -cvf demo.tar *</span><br><span class="line"></span><br><span class="line"># 从包中删除文件</span><br><span class="line">tar --delete -f demo.tar dir1</span><br><span class="line"></span><br><span class="line"># 将demo2.tar合并到demo.tar中</span><br><span class="line">tar -Af demo.tar demo2.tar</span><br><span class="line"></span><br><span class="line"># 打包的同时压缩</span><br><span class="line">tar -cv[j|z]f demo.[gz|bz2].tar *</span><br><span class="line"></span><br><span class="line"># 将文件打包压缩到标准输入，然后从标准输出中解压文件；`-a`选项可以根据文件名自动使用何种压缩</span><br><span class="line">tar -cvjf - * | tar -xvjf - -C ./target</span><br></pre></td></tr></table></figure>
<h2 id="gzip、bzip"><a href="#gzip、bzip" class="headerlink" title="gzip、bzip"></a>gzip、bzip</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 只能对一个文件进行压缩，所以经常和打包命令配合，两者使用方法类似，bzip效率更好一些，解压缩命令为gunzip bunzip</span><br><span class="line"></span><br><span class="line"># 生成text.gz同时保留原文件.zsh中直接使用-k即可</span><br><span class="line">gzip -c test &gt; test.gz</span><br><span class="line"></span><br><span class="line"># 列出压缩信息，包括压缩前后文件大小、压缩比率</span><br><span class="line">gzip -l test.gz</span><br><span class="line"></span><br><span class="line"># 压缩比，1最快(--fast) 9最好(--best)</span><br><span class="line">gzip -[1-9|--fast|--best] test</span><br><span class="line"></span><br><span class="line"># 列出压缩文件</span><br><span class="line">gzcat test.gz</span><br><span class="line"></span><br><span class="line"># -c选项输出到标准输出</span><br><span class="line">cat test | gzip -c &gt; test.gz</span><br></pre></td></tr></table></figure>
<h2 id="base64"><a href="#base64" class="headerlink" title="base64"></a>base64</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 编码test，输出到标准输出</span><br><span class="line">base64 test</span><br><span class="line"></span><br><span class="line"># 解码</span><br><span class="line">base64 -d test</span><br></pre></td></tr></table></figure>
<h2 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ping 10次</span><br><span class="line">ping www.baidu.com -c 10</span><br></pre></td></tr></table></figure>
<h2 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 远程递归复制文件夹至本地，反过来即复制到远程</span><br><span class="line">scp -r user@host:/home/path/dir ./</span><br></pre></td></tr></table></figure>
<h2 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># list open files，列出被打开的文件，因为Linux中‘一切皆文件’，所以该命令也可以查看打开的网络连接和端口</span><br><span class="line"></span><br><span class="line"># 查看file文件被哪些进程占用</span><br><span class="line">lsof file</span><br><span class="line"></span><br><span class="line"># -r选项为一直执行losf</span><br><span class="line">lsof -r file</span><br><span class="line"></span><br><span class="line"># 显示abc进程打开的文件</span><br><span class="line">lsof -c abc</span><br><span class="line"></span><br><span class="line"># 显示PID 123打开的文件</span><br><span class="line">lsof -p 123</span><br><span class="line"></span><br><span class="line"># 显示文件描述符(fd)为4的文件被哪些进程打开</span><br><span class="line">lsof -d 4</span><br><span class="line"></span><br><span class="line"># 查看用户username的进程打开的文件</span><br><span class="line">lsof -u username</span><br><span class="line"></span><br><span class="line"># 查看指定目录下被进程开启的文件</span><br><span class="line">lsof +d mydir1/</span><br><span class="line">lsof -i[4|6] [protocol][@hostname|hostaddr][:service|port]</span><br><span class="line"></span><br><span class="line"># 46        IPv4 or IPv6</span><br><span class="line"></span><br><span class="line"># protocol  TCP or UDP</span><br><span class="line"></span><br><span class="line"># hostname  Internet host name</span><br><span class="line"></span><br><span class="line"># hostaddr  IPv4地址</span><br><span class="line"></span><br><span class="line"># service   /etc/service中的 service name (可以不止一个)</span><br><span class="line"></span><br><span class="line"># port      端口号 (可以不止一个)</span><br><span class="line">lsof -i tcp@ohaha.ks.edu.cn:ftp</span><br><span class="line">lsof -i :3306</span><br></pre></td></tr></table></figure>
<h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 用于显示各种网络相关信息</span><br><span class="line"></span><br><span class="line"># 列出所有端口</span><br><span class="line">netstat -a</span><br><span class="line"></span><br><span class="line"># 列出所有tcp端口，-u为udp</span><br><span class="line">netstat -at</span><br><span class="line"></span><br><span class="line"># 只显示监听端口</span><br><span class="line">netstat -l</span><br><span class="line"></span><br><span class="line"># 在输出中显示PID和进程名</span><br><span class="line">netstat -p</span><br><span class="line"></span><br><span class="line"># 不显示主机、端口和用户名，而用数字代替，可以加速输出</span><br><span class="line">netstat -n</span><br><span class="line"></span><br><span class="line"># 每隔一秒输出一次</span><br><span class="line">netstat -c</span><br></pre></td></tr></table></figure>
<h2 id="du"><a href="#du" class="headerlink" title="du"></a>du</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># disk used，磁盘使用情况</span><br><span class="line"></span><br><span class="line"># 基本用法，列出文件、目录的大小，单位字节，目录默认只显示其子目录，且显示一层</span><br><span class="line">du file dir1 file2 dir2</span><br><span class="line"></span><br><span class="line"># 递归显示所有</span><br><span class="line">du -a dir</span><br><span class="line"></span><br><span class="line"># 以可读单位显示，`-b -k -m`字节、kb、mb</span><br><span class="line">du -h dir</span><br><span class="line"></span><br><span class="line"># 只显示目录的总计，而不是子目录</span><br><span class="line">du -s dir</span><br></pre></td></tr></table></figure>
<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 列出磁盘空闲情况</span><br><span class="line">df -h</span><br></pre></td></tr></table></figure>
<h2 id="time"><a href="#time" class="headerlink" title="time"></a>time</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 列出命令执行时间</span><br><span class="line"></span><br><span class="line"># real 开始执行到结束的时间</span><br><span class="line"></span><br><span class="line"># user 进程在用户模式的时间，唯一真正用于执行进程所花费的时间（不包括阻塞、挂起）</span><br><span class="line">#sys  花费在内核模式的时间，唯一真正使用CPU的时间</span><br><span class="line">time COMMOND</span><br><span class="line"></span><br><span class="line"># 格式化输出</span><br><span class="line">time -f &quot;Real: %e, User: %U, Sys: %S&quot;</span><br></pre></td></tr></table></figure>
<h2 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 固定时间间隔监控命令输出</span><br><span class="line"></span><br><span class="line"># 默认2秒执行一次，-n指定为5秒</span><br><span class="line">watch -n 5 COMMOND</span><br><span class="line"></span><br><span class="line"># 高亮显示区别</span><br><span class="line">watch -d COMMOND</span><br></pre></td></tr></table></figure>
<h2 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 列出所有进程信息，默认值显示当前终端进程，`-ax`效果类似</span><br><span class="line">ps -e</span><br><span class="line"></span><br><span class="line"># 显示更多信息</span><br><span class="line">ps -e[f|l]</span><br><span class="line"></span><br><span class="line"># 指定要显示哪些列，常用的有</span><br><span class="line">ps -ef -o [TargetCol]</span><br><span class="line"></span><br><span class="line"># pid</span><br><span class="line"></span><br><span class="line"># ppid</span><br><span class="line"></span><br><span class="line"># pcpu cpu占用率</span><br><span class="line"></span><br><span class="line"># pmem 内存使用率</span><br><span class="line"></span><br><span class="line"># comm 可执行文件名</span><br><span class="line"></span><br><span class="line"># user 启动用户</span><br><span class="line"></span><br><span class="line"># stat 进程状态</span><br><span class="line"></span><br><span class="line"># time 累计cpu时间</span><br><span class="line"></span><br><span class="line"># 排序，-降序，+升序</span><br><span class="line">ps -ef --sort -pcpu,+time</span><br><span class="line"></span><br><span class="line"># -L选项列出线程信息</span><br><span class="line">ps -efL</span><br></pre></td></tr></table></figure>
<h2 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 列出所有可用信号</span><br><span class="line">kill -l</span><br><span class="line"></span><br><span class="line"># 终止一个进程，默认发送的是SIGTERM信号（15），常用</span><br><span class="line"></span><br><span class="line"># SIGHUP 1 挂起</span><br><span class="line"></span><br><span class="line"># SIGINT 2 中断，ctrl+c</span><br><span class="line"></span><br><span class="line"># SIGKILL 9 强制杀死</span><br><span class="line"></span><br><span class="line"># SIGTERM 15 默认的终止进程</span><br><span class="line"></span><br><span class="line"># SIGTSTP 20 ctrl+z</span><br><span class="line">kill 13113</span><br><span class="line"></span><br><span class="line"># 使用信号编号，或者信号名终止进程</span><br><span class="line">kill -SIGNO | -s SIGNAME 4131</span><br><span class="line"></span><br><span class="line"># 杀死进程名的所有实例，类似有`pkill`默认使用进程名</span><br><span class="line">killall processname</span><br></pre></td></tr></table></figure>
<h2 id="which、whereis、locate"><a href="#which、whereis、locate" class="headerlink" title="which、whereis、locate"></a>which、whereis、locate</h2><p>查询工具，区别是which是按照PATH变量中的目录逐个查找<br>而whereis与locate则是在Linux自己维护的文件数据库中查找，所以范围更大，两者区别是locate是模糊查找。缺点是非实时，数据库是每天自动更新，你也可以手动更新，updatedb<br>另一个是find，速度更慢，但实时的在硬盘查找</p>
<h2 id="file、whatis、uptime"><a href="#file、whatis、uptime" class="headerlink" title="file、whatis、uptime"></a>file、whatis、uptime</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 列出参数文件的类型描述信息</span><br><span class="line">file file|dir|bin</span><br><span class="line"></span><br><span class="line"># 从man中解析出命令的简短描述信息</span><br><span class="line">whatis COMMOND</span><br><span class="line"></span><br><span class="line"># 系统使用时间统计，包括最近1分钟、5分钟、15分钟的系统负载</span><br><span class="line">uptime</span><br></pre></td></tr></table></figure>
<h2 id="wall"><a href="#wall" class="headerlink" title="wall"></a>wall</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 所有终端广播</span><br><span class="line">echo Notice | wall</span><br></pre></td></tr></table></figure>
<h2 id="uname"><a href="#uname" class="headerlink" title="uname"></a>uname</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 主机名，`hostname`</span><br><span class="line">uname -n</span><br><span class="line"></span><br><span class="line"># 打印内核、硬件架构等详细信息</span><br><span class="line">uname -a</span><br><span class="line"></span><br><span class="line"># 内核版本</span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line"># 主机类型</span><br><span class="line">uname -m</span><br></pre></td></tr></table></figure>
<h2 id="logger"><a href="#logger" class="headerlink" title="logger"></a>logger</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 向系统日志/var/log/message中写入日志</span><br><span class="line"></span><br><span class="line"># 直接写入</span><br><span class="line">logger message</span><br><span class="line"></span><br><span class="line"># 日志添加标记</span><br><span class="line">logger -t tag message</span><br><span class="line"></span><br><span class="line"># 将文件写入日志</span><br><span class="line">logger -f source.log</span><br></pre></td></tr></table></figure>
<h2 id="sar"><a href="#sar" class="headerlink" title="sar"></a>sar</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># u输出cpu使用率; q输出cpu运行进程数,总进程数; r为内存; 1为采集频率,2为采集轮次</span><br><span class="line">sar -[u|q|r] 1 2</span><br></pre></td></tr></table></figure>
<h2 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 指定用户,root使用</span><br><span class="line">crontab -u liufuxin -e</span><br><span class="line"></span><br><span class="line"># */5 1,2 5-9 7 * COMMOND</span><br><span class="line"></span><br><span class="line"># 每5分 每天的1,2点 每5-9日 每7月 执行任务</span><br><span class="line"></span><br><span class="line"># 注意周跟日月不能同时出现,同时出现不是&apos;与&apos;关系,而是&apos;或&apos;关系</span><br><span class="line"></span><br><span class="line"># 注意</span><br><span class="line"></span><br><span class="line"># Commond的输出未指定的话会发送邮件</span><br></pre></td></tr></table></figure>
<h2 id="展开运算符"><a href="#展开运算符" class="headerlink" title="展开运算符"></a>展开运算符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 如果varname未定义，则该表达式值为0</span><br><span class="line">$&#123;varname:-word&#125;</span><br><span class="line"></span><br><span class="line"># 如果varname未定义，则定义为word，并返回</span><br><span class="line">$&#123;varname:=word&#125;</span><br><span class="line"></span><br><span class="line"># 如果varname未定义，则输出message，并退出程序</span><br><span class="line">$&#123;varname:?message&#125;</span><br></pre></td></tr></table></figure>
<h2 id="参数读取"><a href="#参数读取" class="headerlink" title="参数读取"></a>参数读取</h2><p>位置参数</p>
<ul>
<li>$0 命令名</li>
<li>$1 第一个参数，$2 第二个。。</li>
<li>${10} 以此类推<br>特殊参数</li>
<li>$# 参数个数</li>
<li>\$*、\$@ 所有参数的数组</li>
<li>“\$*“ 所有参数组成的单行字符串</li>
<li>“\$@” 所有参数的数组，比$@方式的优点在于，其保留了参数中任何空白<h2 id="tee"><a href="#tee" class="headerlink" title="tee"></a>tee</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># tee会将标准输入传送给某个设备的同时将其输出到标准输出</span><br><span class="line">ls | tee lsresult | cat</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h2><p>权限掩码，用于计算文件的默认权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 查看</span><br><span class="line">umask</span><br><span class="line"></span><br><span class="line"># 编辑</span><br><span class="line">umask 022</span><br><span class="line"></span><br><span class="line"># 作用</span><br><span class="line">从777中拿走umask指定的位</span><br><span class="line"></span><br><span class="line"># 注意</span><br><span class="line">文件默认不允许添加执行权限，即即使设定umask为000，新建的文件权限也是666，执行权限必须chmod添加；文件没此限制</span><br></pre></td></tr></table></figure></p>
<h2 id="查看cpu"><a href="#查看cpu" class="headerlink" title="查看cpu"></a>查看cpu</h2><p>总核数 = 物理CPU个数 X 每颗物理CPU的核数<br>总逻辑CPU数 = 物理CPU个数 X 每颗物理CPU的核数 X 超线程数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 查看物理CPU个数</span><br><span class="line">cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</span><br><span class="line"></span><br><span class="line"># 查看每个物理CPU中core的个数(即核数)</span><br><span class="line">cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</span><br><span class="line"></span><br><span class="line"># 查看逻辑CPU的个数</span><br><span class="line">cat /proc/cpuinfo| grep &quot;processor&quot;| wc -l</span><br></pre></td></tr></table></figure></p>
<h2 id="top"><a href="#top" class="headerlink" title="top"></a>top</h2><p>top 能够实时监控系统cpu、进程、内存状态</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># top命令之后</span><br><span class="line">P为cpu使用占比排序</span><br><span class="line">M为内存使用占比排序</span><br><span class="line">i使top不显示任何闲置或者僵死进程</span><br><span class="line"></span><br><span class="line"># top第三行显示当前系统的，其中有两个值很关键:</span><br><span class="line">%id：空闲CPU时间百分比，如果这个值过低，表明系统CPU存在瓶颈；</span><br><span class="line">%wa：等待I/O的CPU时间百分比，如果这个值过高，表明IO存在瓶颈；</span><br></pre></td></tr></table></figure>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>bashrc与profile都用于保存用户的环境信息，bashrc用于交互式non-loginshell，而profile用于交互式login shell。</p>
<p>/etc/profile，/etc/bashrc 是系统全局环境变量设定~/.profile，~/.bashrc用户目录下的私有环境变量设定</p>
<p>当登入系统获得一个shell进程时，其读取环境设置脚本分为三步:</p>
<ol>
<li>首先读入的是全局环境变量设置文件/etc/profile，然后根据其内容读取额外的文档，如/etc/profile.d和/etc/inputrc</li>
<li>读取当前登录用户Home目录下的文件~/.bash_profile，其次读取~/.bash_login，最后读取~/.profile，这三个文档设定基本上是一样的，读取有优先关系</li>
<li>读取~/.bashrc</li>
</ol>
<p>/.profile与~/.bashrc的区别:</p>
<ol>
<li>这两者都具有个性化定制功能</li>
<li>~/.profile可以设定本用户专有的路径，环境变量，等，它只能登入的时候执行一次</li>
<li>~/.bashrc也是某用户专有设定文档，可以设定路径，命令别名，每次shell script的执行都会使用它一次</li>
</ol>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 添加用户，同时添加home目录</span><br><span class="line">useradd -m liufuxin</span><br><span class="line"></span><br><span class="line"># 设置密码</span><br><span class="line">paswd liufuxin</span><br><span class="line"></span><br><span class="line"># 删除用户 -r同时删除home目录</span><br><span class="line">userdel -r liufuxin</span><br></pre></td></tr></table></figure>
<h2 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># 首处替换,替换每一行的第一处匹配的text</span><br><span class="line">sed &apos;s/text/replace_text/&apos; file</span><br><span class="line"></span><br><span class="line"># 全局替换</span><br><span class="line">sed &apos;s/text/replace_text/g&apos; file</span><br><span class="line"></span><br><span class="line"># 默认替换后，输出替换后的内容，如果需要直接替换原文件,使用-i:</span><br><span class="line">sed -i &apos;s/text/repalce_text/g&apos; file</span><br><span class="line"></span><br><span class="line"># 移除空白行</span><br><span class="line">sed &apos;/^$/d&apos; file</span><br><span class="line"></span><br><span class="line">#变量转换,已匹配的字符串通过标记&amp;来引用.</span><br><span class="line">echo this is en example | sed &apos;s/\w+/[&amp;]/g&apos;</span><br><span class="line">$&gt;[this]  [is] [en] [example]</span><br><span class="line"></span><br><span class="line"># 子串匹配标记,第一个匹配的括号内容使用标记 1 来引用</span><br><span class="line">sed &apos;s/hello\([0-9]\)/\1/&apos;</span><br><span class="line"></span><br><span class="line"># 双引号求值,sed通常用单引号来引用；也可使用双引号，使用双引号后，双引号会对表达式求值:</span><br><span class="line">sed &apos;s/$var/HLLOE/&apos;</span><br><span class="line"></span><br><span class="line"># 当使用双引号时，我们可以在sed样式和替换字符串中指定变量</span><br><span class="line">p=patten</span><br><span class="line">r=replaced</span><br><span class="line">echo &quot;line con a patten&quot; | sed &quot;s/$p/$r/g&quot;</span><br><span class="line">$&gt;line con a replaced</span><br><span class="line"></span><br><span class="line"># 字符串插入字符：将文本中每行内容（ABCDEF） 转换为 ABC/DEF:</span><br><span class="line">sed &apos;s/^.\&#123;3\&#125;/&amp;\//g&apos; file</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>觉得有帮助的话, 请我喝杯茶吧</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wepay.jpg" alt="Liufxlucky365 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Liufxlucky365 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/04/04/MySQL不权威指南/" rel="next" title="MySQL不权威指南">
                <i class="fa fa-chevron-left"></i> MySQL不权威指南
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/07/06/Linux实用知识持续构建——基础篇/" rel="prev" title="Linux实用知识持续构建——基础篇">
                Linux实用知识持续构建——基础篇 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80NDE5Mi8yMDcyNQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/default_avatar.png"
                alt="Liufxlucky365" />
            
              <p class="site-author-name" itemprop="name">Liufxlucky365</p>
              <p class="site-description motion-element" itemprop="description">程序猿 IT php mysql 生活 秀恩爱</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#这是什么"><span class="nav-text">这是什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cat"><span class="nav-text">cat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find"><span class="nav-text">find</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xargs"><span class="nav-text">xargs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tr"><span class="nav-text">tr</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort"><span class="nav-text">sort</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uniq"><span class="nav-text">uniq</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#split"><span class="nav-text">split</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#、-、-、"><span class="nav-text">#、%、##、%%</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dd"><span class="nav-text">dd</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mkdir"><span class="nav-text">mkdir</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#touch"><span class="nav-text">touch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ln"><span class="nav-text">ln</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#head-amp-tail"><span class="nav-text">head & tail</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ls"><span class="nav-text">ls</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wc"><span class="nav-text">wc</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#chmod"><span class="nav-text">chmod</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#chown-chgrp"><span class="nav-text">chown chgrp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#grep"><span class="nav-text">grep</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cut"><span class="nav-text">cut</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wget"><span class="nav-text">wget</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#curl"><span class="nav-text">curl</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tar"><span class="nav-text">tar</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gzip、bzip"><span class="nav-text">gzip、bzip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#base64"><span class="nav-text">base64</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ping"><span class="nav-text">ping</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scp"><span class="nav-text">scp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lsof"><span class="nav-text">lsof</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#netstat"><span class="nav-text">netstat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#du"><span class="nav-text">du</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#df"><span class="nav-text">df</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#time"><span class="nav-text">time</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#watch"><span class="nav-text">watch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ps"><span class="nav-text">ps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kill"><span class="nav-text">kill</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#which、whereis、locate"><span class="nav-text">which、whereis、locate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#file、whatis、uptime"><span class="nav-text">file、whatis、uptime</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wall"><span class="nav-text">wall</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uname"><span class="nav-text">uname</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#logger"><span class="nav-text">logger</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sar"><span class="nav-text">sar</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#crontab"><span class="nav-text">crontab</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#展开运算符"><span class="nav-text">展开运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参数读取"><span class="nav-text">参数读取</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tee"><span class="nav-text">tee</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#umask"><span class="nav-text">umask</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看cpu"><span class="nav-text">查看cpu</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#top"><span class="nav-text">top</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#环境变量"><span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户管理"><span class="nav-text">用户管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sed"><span class="nav-text">sed</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liufxlucky365</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>


<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv" style='display:none'>
    访问量 <span id="busuanzi_value_site_pv"></span>
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    <span id="busuanzi_value_site_uv"></span>人看过
</span>
</div>



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  





  

  

  

  
  

  

  

  

</body>
</html>
